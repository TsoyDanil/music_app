## Указания по работе с api

Здесь находятся особенности работы с моей api

## Работа с артистами

- Основной путь: http://localhost:8000/artists
- Имеет два метода в репозитории: получить артистов, и добавить артиста
- Для получения артистов необходимо написать get запрос по указанной выше ссылке
- Для добавления артиста необходимо написать post запрос по указанному выше пути, при этом в запросе должны быть следующие поля:
- {
    - name: Принимает строку с именем артиста
    - photo: Файл с изображениям артиста
    - information: Принимат строку с информацией об артисте
- }

## Работа с альбомами

- Основной путь: http://localhost:8000/albums
- Имеет два метода в репозитории: получить альбом, и добавить альбом
- Для получения альбомов необходимо написать get запрос по указанной выше ссылке
- Для добавления альбомов необходимо написать post запрос по указанному выше пути, при этом в запросе должны быть следующие поля:
- {
    - title: Принимает строку с названием альбома
    - artist: Принимает id артиста
    - releaseYear: Принимает дату выпуска альбом
    - coverImage: Файл с изображением альбома
- }

## Работа с треками

- Основной путь: http://localhost:8000/tracks
- Имеет два метода в репозитории: получить треки, и добавить трек
- Для получения треков необходимо написать get запрос по указанной выше ссылке
- Для добавления трека необходимо написать post запрос по указанному выше пути, при этом в запросе должны быть следующие поля:
- {
    - title: Принимает строку с названием трека
    - album: Принимает id альбома
    - length: принимает длину трека ввиде числа
    - link: Принимает в себя ссылку на видео для ютуб. Не обязательно к заполнению (пример ссылки: https://www.youtube.com/embed/GxWiRU1wrPo)
- }
- Так же у трека есть поле индекс. Оно не должно заполнятся, и выдается автоматчиески во время запросов. Для этого в модели имеется метод GetIndex который вызывается после того, как список был получен

## Работа с пользователями

- Основной путь: http://localhost:8000/users
- Имеет два метода в репозитории: получить добавить пользователя, и залогинить пользователя
- Для добавления пользователя необходимо написать ost запрос по указанному выше пути, при этом в запросе идут следующие поля:
- {
    - username: Принимает строку с именем пользователя
    - password: Принимает пароль введенный пользователем ввиде строки
- }
- Для логина пользователя необходимо написать post запрос по пути http://localhost:8000/users/sessions, при этом в запросе идут следующие поля:
- {
    - username: Принимает строку с именем пользователя
    - password: Принимает пароль введенный пользователем ввиде строки
- } 
- Если все прошло успешно, то у пользователя появится поле token

## Работа с историей просмотра треков

- Основной путь: http://localhost:8000/track_history
- Имеет метод для создания новой истории. Для этого нужно отправить post запрос по указанному выше пути, при этом в объекте должны быть следующие поля:
- {
    - track: Принимает id трека, который был прослушан
- }

- Помимо этого, внутри headers необходимо дополнительно указать поле token, внутрь которого записывается токен пользователя, и уже вместе с ним отправлять запрос на создание нового просмотра

## Работа с авторизацией

- Чтобы авторизироваться через postman необходимо Authorization создать ключ "Authorization" и указать как его значение валидный токен. Далее необходимо добавить его как header

- По итогу должны быть поля:
- Key, со значением Authorization
- Value, со значением валидного токена
- Add to, здесь должно быть указано header